{% extends 'base.html' %}
{% load ticket_extras %}
{% load stripe_extras %}
{% block content %}
<div class='jumbotron' style="background: url('/static/img/jumbotrons/tracking.jpg') no-repeat center center; background-size: cover;">
    <h1>{{ subject.name }} Tracker</h1>&nbsp;&nbsp;<i class='fas fa-ticket-alt'></i>
</div>
<div class='container-fluid'>
    <div class='row'>
        <div class='col-md-12'>
            {% if user.is_authenticated %}
            <a href='{% url 'new_ticket' subject.id %}' class='btn btn-primary'>New {{ subject.name }} Ticket</a>
            <hr>
            {% endif %}
            <table id='ticketTable' class='table table-hover table-striped display responsive table-no-bordered' style='width: 100%'>
                <thead class='thead-light'>
                    <th class='min-tablet'>Id</th>
                    <th class='all'>Title &nbsp;<i class='fas fa-question-circle' data-toggle='tooltip' data-placement='right' title='Did you know that hovering over the title will show a brief description of the ticket.'></i></th>
                    <th class='min-tablet-l'>Reported By</th>
                    <th class='desktop'>Last Post By</th>
                    <th class='text-center min-tablet-l'>Last Updated</th>
                    <th class='text-center all'>Status</th>
                    {% if user.is_authenticated %}
                        {% if subject.name == 'Feature'%}
                        <th class='text-center min-tablet-p'>Donate</th>
                        {% else %}
                        <th class='text-center min-tablet-p'>Upvote</th>
                        {% endif %}
                    {% endif %}
                </thead>
                <tbody>
                {% for ticket in subject.tickets.all %}
                    {% include 'forum/ticket_item.html' %}
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}